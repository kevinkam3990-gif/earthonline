<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><title>åœ°çƒOnlineæ¥µç°¡ç‰ˆ</title></head>
<body style="background:#0a0c10;color:#c0d3d9;font-family:monospace;padding:20px">
    <h1>ğŸŒ åœ°çƒOnline Â· æ¥µç°¡ç‰ˆ</h1>
    <div id="messages" style="background:#1a1e24;padding:10px;border-radius:5px"></div>
    <textarea id="msg" rows="3" style="width:100%;margin:10px 0;background:#1a1e24;color:#fff;border:1px solid #3f6f6f"></textarea>
    <button id="send" style="background:#1f3a3a;color:#fff;padding:10px 20px;border:none">ğŸš€ é€å‡º</button>

    <script>
        const URL = 'https://hnthzdqquvublaljfxiu.supabase.co/rest/v1/earthonline369message';
        const KEY = 'sb_publishable_Ho2gx-RZy3Hg-yA6VLk0PQ_TiTBZyuR';

        async function load() {
            const r = await fetch(URL + '?select=*&order=created_at.desc', {
                headers: { 'apikey': KEY }
            });
            const data = await r.json();
            let html = '';
            data.forEach(m => html += `<p><small>${m.created_at}</small><br>${m.content}</p>`);
            document.getElementById('messages').innerHTML = html || '<p>æœªæœ‰ç•™è¨€</p>';
        }

        document.getElementById('send').onclick = async () => {
            const content = document.getElementById('msg').value;
            if(!content) return;
            await fetch(URL, {
                method: 'POST',
                headers: { 'apikey': KEY, 'Content-Type': 'application/json' },
                body: JSON.stringify({ content })
            });
            document.getElementById('msg').value = '';
            load();
        };

        load();
    </script>
</body>
</html>
